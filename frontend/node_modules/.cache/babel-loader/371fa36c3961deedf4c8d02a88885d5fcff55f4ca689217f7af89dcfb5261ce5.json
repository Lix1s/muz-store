{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lakir\\\\Desktop\\\\lastTry\\\\frontend\\\\src\\\\components\\\\preloader\\\\Preloader.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Preloader() {\n  _s();\n  // Создаем ref для хранения интервала\n  const fadeOutInterval = useRef(null);\n\n  // Функция для скрытия прелоадера\n  const hidePreloader = () => {\n    clearTimeout(fadeOutInterval.current);\n    document.body.style.overflow = '';\n    const preloader = document.getElementById('preloader');\n    if (!preloader) return; // Если элемента нет, ничего не делаем\n\n    fadeOutInterval.current = setInterval(() => {\n      const opacity = window.getComputedStyle(preloader).opacity;\n      if (opacity > 0) {\n        preloader.style.opacity = parseFloat(opacity) - 0.05;\n      } else {\n        clearInterval(fadeOutInterval.current);\n        preloader.remove();\n      }\n    }, 15);\n  };\n\n  // Массив для отслеживания загрузки элементов\n  const loadingArray = useRef(new Array());\n\n  // Проверка готовности страницы\n  const pageReady = () => {\n    const conditionDom = loadingArray.current.includes('dom');\n    const conditionShop = document.querySelectorAll('.js-store-grid-cont').length ? loadingArray.current.includes('store') : true;\n    const conditionZero = document.querySelectorAll('.t396__artboard').length ? loadingArray.current.includes('zero') : true;\n    if (conditionDom && conditionShop && conditionZero) {\n      hidePreloader();\n    }\n  };\n\n  // Эффекты для добавления событий и проверки состояния\n  useEffect(() => {\n    // Добавляем событие DOMContentLoaded\n    const domLoadHandler = () => {\n      loadingArray.current.push('dom');\n      pageReady();\n    };\n    document.addEventListener('DOMContentLoaded', domLoadHandler);\n    return () => document.removeEventListener('DOMContentLoaded', domLoadHandler);\n  }, []);\n  useEffect(() => {\n    // Обработчик события tStoreRendered\n    const storeRenderedHandler = () => {\n      loadingArray.current.push('store');\n      pageReady();\n    };\n    document.querySelectorAll('.js-store-grid-cont').forEach(grid => grid.addEventListener('tStoreRendered', storeRenderedHandler));\n    return () => {\n      document.querySelectorAll('.js-store-grid-cont').forEach(grid => grid.removeEventListener('tStoreRendered', storeRenderedHandler));\n    };\n  }, []);\n  useEffect(() => {\n    // Обработчик события artBoardRendered\n    const artBoardRenderedHandler = () => {\n      loadingArray.current.push('zero');\n      pageReady();\n    };\n    document.querySelectorAll('.t396__artboard').forEach(board => board.addEventListener('artBoardRendered', artBoardRenderedHandler));\n    return () => {\n      document.querySelectorAll('.t396__artboard').forEach(board => board.removeEventListener('artBoardRendered', artBoardRenderedHandler));\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"loading-screen\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(Preloader, \"SCCzGKQP0bzaMRs6SKKBOMdKmVE=\");\n_c = Preloader;\nexport default Preloader;\nvar _c;\n$RefreshReg$(_c, \"Preloader\");","map":{"version":3,"names":["useEffect","useRef","jsxDEV","_jsxDEV","Preloader","_s","fadeOutInterval","hidePreloader","clearTimeout","current","document","body","style","overflow","preloader","getElementById","setInterval","opacity","window","getComputedStyle","parseFloat","clearInterval","remove","loadingArray","Array","pageReady","conditionDom","includes","conditionShop","querySelectorAll","length","conditionZero","domLoadHandler","push","addEventListener","removeEventListener","storeRenderedHandler","forEach","grid","artBoardRenderedHandler","board","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/lakir/Desktop/lastTry/frontend/src/components/preloader/Preloader.jsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\nfunction Preloader() {\r\n  // Создаем ref для хранения интервала\r\n  const fadeOutInterval = useRef(null);\r\n\r\n  // Функция для скрытия прелоадера\r\n  const hidePreloader = () => {\r\n    clearTimeout(fadeOutInterval.current);\r\n    document.body.style.overflow = '';\r\n    const preloader = document.getElementById('preloader');\r\n    if (!preloader) return; // Если элемента нет, ничего не делаем\r\n\r\n    fadeOutInterval.current = setInterval(() => {\r\n      const opacity = window.getComputedStyle(preloader).opacity;\r\n      if (opacity > 0) {\r\n        preloader.style.opacity = parseFloat(opacity) - 0.05;\r\n      } else {\r\n        clearInterval(fadeOutInterval.current);\r\n        preloader.remove();\r\n      }\r\n    }, 15);\r\n  };\r\n\r\n  // Массив для отслеживания загрузки элементов\r\n  const loadingArray = useRef(new Array());\r\n\r\n  // Проверка готовности страницы\r\n  const pageReady = () => {\r\n    const conditionDom = loadingArray.current.includes('dom');\r\n    const conditionShop = document.querySelectorAll('.js-store-grid-cont').length ?\r\n      loadingArray.current.includes('store') :\r\n      true;\r\n    const conditionZero = document.querySelectorAll('.t396__artboard').length ?\r\n      loadingArray.current.includes('zero') :\r\n      true;\r\n    \r\n    if (conditionDom && conditionShop && conditionZero) {\r\n      hidePreloader();\r\n    }\r\n  };\r\n\r\n  // Эффекты для добавления событий и проверки состояния\r\n  useEffect(() => {\r\n    // Добавляем событие DOMContentLoaded\r\n    const domLoadHandler = () => {\r\n      loadingArray.current.push('dom');\r\n      pageReady();\r\n    };\r\n    document.addEventListener('DOMContentLoaded', domLoadHandler);\r\n    return () => document.removeEventListener('DOMContentLoaded', domLoadHandler);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Обработчик события tStoreRendered\r\n    const storeRenderedHandler = () => {\r\n      loadingArray.current.push('store');\r\n      pageReady();\r\n    };\r\n    document.querySelectorAll('.js-store-grid-cont').forEach(grid => grid.addEventListener('tStoreRendered', storeRenderedHandler));\r\n    return () => {\r\n      document.querySelectorAll('.js-store-grid-cont').forEach(grid => grid.removeEventListener('tStoreRendered', storeRenderedHandler));\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Обработчик события artBoardRendered\r\n    const artBoardRenderedHandler = () => {\r\n      loadingArray.current.push('zero');\r\n      pageReady();\r\n    };\r\n    document.querySelectorAll('.t396__artboard').forEach(board => board.addEventListener('artBoardRendered', artBoardRenderedHandler));\r\n    return () => {\r\n      document.querySelectorAll('.t396__artboard').forEach(board => board.removeEventListener('artBoardRendered', artBoardRenderedHandler));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"loading-screen\"></div>\r\n  );\r\n}\r\n\r\nexport default Preloader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
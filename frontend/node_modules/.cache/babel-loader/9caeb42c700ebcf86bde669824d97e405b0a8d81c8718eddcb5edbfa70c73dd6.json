{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lakir\\\\Desktop\\\\lastTry\\\\frontend\\\\src\\\\components\\\\categories\\\\Categories.jsx\";\nimport React, { useContext, Component } from 'react';\nimport Card from '../card/Card';\nimport { CartContext } from '../Context';\nimport './product.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class Categories extends Component {\n  constructor(props) {\n    super(props);\n    // Обработчик выбора категории\n    this.handleCategoryClick = categoryKey => {\n      this.setState({\n        activeCategory: categoryKey\n      });\n    };\n    this.state = {\n      categories: [{\n        key: 'Акустические гитары',\n        name: 'Акустические гитары'\n      }, {\n        key: 'Электрогитары',\n        name: 'Электрогитары'\n      }, {\n        key: 'Классические гитары',\n        name: 'Классические гитары'\n      }, {\n        key: 'Усилители для гитар',\n        name: 'Усилители для гитар'\n      }, {\n        key: 'Цифровое пианино',\n        name: 'Цифровое пианино'\n      }, {\n        key: 'Барабаны',\n        name: 'Барабаны'\n      }],\n      activeCategory: '',\n      // Текущая выбранная категория\n      items: [],\n      // Список карточек (загружается с MockAPI)\n      loading: true,\n      // Индикатор загрузки данных\n      error: null // Ошибки при загрузке\n    };\n  }\n\n  // Загрузка данных из MockAPI\n  componentDidMount() {\n    fetch('https://673876654eb22e24fca800c5.mockapi.io/items') // Укажите свой URL MockAPI\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch data');\n      }\n      return response.json();\n    }).then(data => {\n      this.setState({\n        items: data,\n        loading: false\n      });\n    }).catch(error => {\n      this.setState({\n        error: error.message,\n        loading: false\n      });\n    });\n  }\n  render() {\n    const {\n      cartItems,\n      onAddToCart,\n      setCartItems\n    } = useContext(CartContext);\n    console.log('cartItems', cartItems);\n    React.useEffect(() => {\n      axios.get('https://673876654eb22e24fca800c5.mockapi.io/items').then(res => {\n        setitems(res.data);\n      });\n      axios.get('https://673876654eb22e24fca800c5.mockapi.io/cart').then(res => {\n        setCartItems(res.data);\n      });\n    }, []);\n    const {\n      categories,\n      activeCategory,\n      items,\n      loading,\n      error\n    } = this.state;\n\n    // Фильтрация карточек по выбранной категории\n    const filteredItems = activeCategory ? items.filter(item => item.category === activeCategory) : items;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"categories\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"classes\",\n            children: categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.handleCategoryClick(category.key),\n              className: activeCategory === category.key ? 'active' : '',\n              children: category.name\n            }, category.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 29\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards\",\n          children: [!loading && filteredItems.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u041D\\u0435\\u0442 \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432 \\u0432 \\u044D\\u0442\\u043E\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), items.map(item => /*#__PURE__*/_jsxDEV(Card, {\n            onClickAdd: obj => onAddToCart(obj),\n            ...item\n          }, item.title, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 22\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default Categories;","map":{"version":3,"names":["React","useContext","Component","Card","CartContext","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Categories","constructor","props","handleCategoryClick","categoryKey","setState","activeCategory","state","categories","key","name","items","loading","error","componentDidMount","fetch","then","response","ok","Error","json","data","catch","message","render","cartItems","onAddToCart","setCartItems","console","log","useEffect","get","res","setitems","filteredItems","filter","item","category","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","style","color","length","onClickAdd","obj","title"],"sources":["C:/Users/lakir/Desktop/lastTry/frontend/src/components/categories/Categories.jsx"],"sourcesContent":["import React, {useContext, Component} from 'react'\r\nimport Card from '../card/Card'\r\nimport { CartContext } from '../Context'\r\nimport './product.css'\r\nimport axios from 'axios'\r\n\r\n\r\nexport class Categories extends Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            categories: [\r\n                { key: 'Акустические гитары', name: 'Акустические гитары' },\r\n                { key: 'Электрогитары', name: 'Электрогитары' },\r\n                { key: 'Классические гитары', name: 'Классические гитары' },\r\n                { key: 'Усилители для гитар', name: 'Усилители для гитар' },\r\n                { key: 'Цифровое пианино', name: 'Цифровое пианино' },\r\n                { key: 'Барабаны', name: 'Барабаны' },\r\n            ],\r\n            activeCategory: '', // Текущая выбранная категория\r\n            items: [], // Список карточек (загружается с MockAPI)\r\n            loading: true, // Индикатор загрузки данных\r\n            error: null, // Ошибки при загрузке\r\n        };\r\n    }\r\n\r\n    // Загрузка данных из MockAPI\r\n    componentDidMount() {\r\n        fetch('https://673876654eb22e24fca800c5.mockapi.io/items') // Укажите свой URL MockAPI\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to fetch data');\r\n                }\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                this.setState({ items: data, loading: false });\r\n            })\r\n            .catch((error) => {\r\n                this.setState({ error: error.message, loading: false });\r\n            });\r\n    }\r\n\r\n    // Обработчик выбора категории\r\n    handleCategoryClick = (categoryKey) => {\r\n        this.setState({ activeCategory: categoryKey });\r\n    };\r\n\r\n    render() {\r\n        const { cartItems, onAddToCart, setCartItems } = useContext(CartContext);\r\n    console.log('cartItems', cartItems);\r\n\r\n  React.useEffect(() => {\r\n    axios.get('https://673876654eb22e24fca800c5.mockapi.io/items').then((res) => {\r\n      setitems(res.data);\r\n    });\r\n    axios.get('https://673876654eb22e24fca800c5.mockapi.io/cart').then((res) => {\r\n      setCartItems(res.data);\r\n    });\r\n  }, []);\r\n        const { categories, activeCategory, items, loading, error } = this.state;\r\n\r\n        // Фильтрация карточек по выбранной категории\r\n        const filteredItems = activeCategory\r\n            ? items.filter((item) => item.category === activeCategory)\r\n            : items;\r\n\r\n        return (\r\n            <>\r\n            <div className=\"container\">\r\n                {/* Секция категорий */}\r\n                <div className=\"categories\">\r\n                    <span>Категории</span>\r\n                    <div className=\"classes\">\r\n                        {categories.map((category) => (\r\n                            <button\r\n                                key={category.key}\r\n                                onClick={() => this.handleCategoryClick(category.key)}\r\n                                className={activeCategory === category.key ? 'active' : ''}\r\n                            >\r\n                                {category.name}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Индикатор загрузки или отображение ошибки */}\r\n                {loading && <p>Загрузка данных...</p>}\r\n                {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n                {/* Секция карточек */}\r\n                <div className=\"cards\">\r\n                    {!loading && filteredItems.length === 0 && (\r\n                        <p>Нет элементов в этой категории.</p>\r\n                    )}\r\n                    {/* {filteredItems.map((item) => (\r\n                        <Card />\r\n                        // <div key={item.id} className=\"card\">\r\n                        //     <h3>{item.name}</h3>\r\n                        //     <p>{item.category}</p>\r\n                        // </div>\r\n                    ))} */}\r\n\r\n                { items.map((item) => ( \r\n                     <Card \r\n                    \r\n                    key={item.title}\r\n                    onClickAdd={(obj) => onAddToCart(obj)}\r\n                    {...item}\r\n                />\r\n                 ))}\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Categories;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}